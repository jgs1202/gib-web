webpackJsonp([1],{"18/U":function(e,t){},CmEp:function(e,t){},LRQd:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App"},s,!1,function(e){n("cmcn")},null,null).exports,i=n("/ocq"),l={name:"TabMenu",data:function(){return{title:"GIB layout",items:[{title:"top",path:"/"},{title:"tutorial",path:"/tutorial"},{title:"try!",path:"/try"},{title:"contact",path:"/contact"}]}},mounted:function(){console.log(this.$parenteNode)}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ol",[n("li",{staticClass:"title"},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),e._l(e.items,function(t,a){return n("li",{key:a,staticClass:"indexButton"},[n("router-link",{attrs:{to:t.path}},[e._v("\n            "+e._s(t.title)+"\n         ")])],1)})],2),e._v(" "),n("div",{staticClass:"pad"})])},staticRenderFns:[]};var c=n("VU/8")(l,o,!1,function(e){n("h+gt")},"data-v-7774ad9b",null).exports,u=n("mvHQ"),d=n.n(u),p=n("7t+N"),v=n.n(p),f=n("thjQ"),h=n("vwbq"),m=n("2nLK"),g={name:"upload",data:function(){return{graph:null,gib:null,layout:"ST-GIB",simulation:null,settings:{strokeColor:"#29B5FF",width:100,svgWigth:960,svgHeight:600},nodes:[],links:[],boxes:[],message:null,current:"None",nodeData:{name:null,group:null},status:"Send File",normalSize:3,relatedSize:5,selectSize:7,selected:[],related:[],redLinks:[],zoom:null}},mounted:function(){document.forms.form.file.addEventListener("change",this.load,!1),this.zoom=h.zoom().scaleExtent([.5,12]).on("zoom",this.zoomed),h.select("svg").call(this.zoom),h.select("svg").call(m.downloadable().filename("graph.png"))},methods:{zoomed:function(){h.select("svg").attr("transform",h.event.transform)},resetted:function(){console.log(this.zoom),h.select("svg").transition().duration(500).call(this.zoom.transform,h.zoomIdentity)},load:function(e){var t=this,n=e.target.files[0];if(".json"!==n.name.slice(-5))f("Only a json file is valid.");else{var a=new FileReader;a.readAsText(n),a.addEventListener("load",function(){t.graph=JSON.parse(a.result)},!1)}t.current=n.name},sendData:function(e){var t=this;if(t.graph){t.status="calculating...";var n={};n.data=t.graph,n.layout=t.layout,v.a.ajax({url:"http://127.0.0.1:5000/upload",type:"POST",data:d()(n),contentType:"application/json;charset=UTF-8",timeout:1e4}).done(function(e){t.message=null,t.gib=e,t.restart(),t.status="Send File",t.related=[];for(var n=0;n<t.gib.nodes.length;n++)t.related.push([]);t.redLinks=[];for(var a=0;a<t.gib.links.length;a++)t.redLinks.push([])}).fail(function(e,n,a){console.log(n),t.status="Send File"})}},restart:function(){this.gib.groups.pop(),this.$set(this.boxes,this.reBoxes()),this.$set(this.links,this.reLinks()),this.$set(this.nodes,this.reNodes())},reNodes:function(){var e=this;if(e.gib)return h.selectAll("circle").remove(),h.select("svg").append("g").attr("class","nodes").selectAll("circle").data(e.gib.nodes).enter().append("circle").attr("cx",e.settings.svgWigth/2).attr("cy",e.settings.svgHeight/2).attr("r",3),h.selectAll("circle").each(function(t,n){var a=h.select(this);a.transition().attr("cx",e.gib.nodes[n].cx).attr("cy",e.gib.nodes[n].cy).attr("fill",function(t,n){return h.interpolateRainbow(t.group/e.gib.groups.length)}),a.on("mouseover",function(t,n){a.attr("r",e.selectSize),t.name&&(e.nodeData.name=t.name),t.group&&(e.nodeData.group=t.group)}),a.on("click",function(t,n){e.selectNode(t,n)}),a.on("mouseout",function(t,n){e.nodeData.name=null,e.nodeData.group=null,v.a.inArray(t,e.selected)<0&&0===e.related[t.id].length?a.attr("r",e.normalSize):v.a.inArray(t,e.selected)<0&&0!==e.related[t.id].length&&a.attr("r",e.relatedSize)})})},reLinks:function(){var e=this;if(e.gib)return h.selectAll("line").remove(),h.select("svg").append("g").attr("class","links").selectAll("line").data(e.gib.links).enter().append("line").attr("stroke","gray").attr("stroke-width",function(e){return.4}),h.selectAll("line").each(function(t,n){h.select(this).attr("x1",function(t){return e.gib.nodes[t.source].cx}).attr("y1",function(t){return e.gib.nodes[t.source].cy}).attr("x2",function(t){return e.gib.nodes[t.target].cx}).attr("y2",function(t){return e.gib.nodes[t.target].cy})}),h.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.parentNode.appendChild(this.parentNode)})},h.select("circle").moveToFront(),h.selectAll("line")},reBoxes:function(){var e=this;if(e.gib)return h.selectAll("rect").remove(),h.select("svg").append("g").attr("class","rect").selectAll("rect").data(e.gib.groups).enter().append("rect").attr("stroke","black").attr("stroke-width",1).attr("fill","transparent"),h.selectAll("rect").each(function(t,n){if(t.dx!==e.settings.svgWigth||t.dy!==e.settings.svgHeight)h.select(this).attr("index",n).attr("x",t.x).attr("y",t.y).attr("width",t.dx).attr("height",t.dy)})},selectNode:function(e,t){var n=this,a=e.name,s=e.id;if(v.a.inArray(e,n.selected)<0){for(var r=[],i=[],l=0;l<n.gib.links.length;l++)e.name!==n.gib.links[l].source&&e.name!==n.gib.links[l].target||r.push(n.gib.links[l]);for(var o=0;o<r.length;o++)r[o].source===e.name?i.push(r[o].target):r[o].target===e.name&&i.push(r[o].source);h.selectAll("circle").each(function(e,t){for(var r=h.select(this),l=0;l<i.length;l++)e.name==i[l]?(n.related[parseInt(i[l])].push(s),v.a.inArray(e,n.selected)<0&&r.attr("r",n.relatedSize)):e.name===a&&(r.attr("r",n.selectSize),r.attr("stroke","yellow"),r.attr("stroke-width",3),v.a.inArray(e,n.selected)<0&&n.selected.push(e))}),h.selectAll("line").each(function(e,t){for(var a=h.select(this),i=0;i<r.length;i++)r[i].id===e.id&&(n.redLinks[parseInt(e.id)].push(parseInt(s)),a.attr("stroke","red"),a.attr("stroke-width",1.5))})}else{for(var c=[],u=0;u<n.selected.length;u++)if(n.selected[u].name===a){var d=n.selected.slice(0,u),p=n.selected.slice(u+1,n.selected.length);n.selected=d.concat(p)}h.selectAll("circle").each(function(e,t){var a=h.select(this);if(e.id===s)a.attr("r",n.normalSize),a.attr("stroke-width",0);else for(var r=0;r<n.related.length;r++){var i=v.a.inArray(s,n.related[r]);if(i>-1){var l=n.related[r].slice(0,i),o=n.related[r].slice(i+1,n.related[r].length);n.related[r]=l.concat(o),0===n.related[r].length&&v.a.inArray(n.gib.nodes[r],n.selected)<0&&(c.push(r),console.log(r))}}}),console.log(c),h.selectAll("circle").each(function(e,t){var a=h.select(this);v.a.inArray(e.id,c)>-1&&a.attr("r",n.normalSize)});for(var f=0;f<n.redLinks.length;f++){var m=v.a.inArray(parseInt(s),n.redLinks[f]);if(m>-1){var g=n.redLinks[f].slice(0,m),b=n.redLinks[f].slice(m+1,n.redLinks[f].length);n.redLinks[f]=g.concat(b)}}h.selectAll("line").each(function(e,t){var a=h.select(this);0===n.redLinks[parseInt(e.id)].length&&(a.attr("stroke","gray"),a.attr("stroke-width",.4))})}}}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("el-container",{staticClass:"bottom"},[n("el-aside",{attrs:{width:"20%"}},[n("br"),n("br"),e._v(" "),n("label",{staticClass:"square_btn",attrs:{for:"fileid"}},[e._v("\n        Choose file\n        "),n("form",{staticClass:"fileup",staticStyle:{display:"none"},attrs:{name:"form"}},[n("input",{attrs:{type:"file",name:"file",id:"fileid"}})])]),e._v(" "),n("br"),n("br"),e._v("\n      current file: "+e._s(e.current)+"\n      "),n("br"),n("br"),n("br"),e._v(" "),n("span",[n("el-radio-group",{model:{value:e.layout,callback:function(t){e.layout=t},expression:"layout"}},[n("el-radio",{staticClass:"layoutButton",attrs:{label:"ST-GIB",border:"",size:"medium"}}),e._v(" "),n("el-radio",{staticClass:"layoutButton",attrs:{label:"CD-GIB",border:"",size:"medium"}}),n("br"),e._v(" "),n("el-radio",{staticClass:"layoutButton",attrs:{label:"FD-GIB",border:"",size:"medium"}}),e._v(" "),n("el-radio",{staticClass:"layoutButton",attrs:{label:"TR-GiB",border:"",size:"medium"}})],1),e._v(" "),n("br"),n("br"),n("br")],1),e._v(" "),n("div",[n("el-button",{attrs:{id:"send",type:"success"},on:{click:e.sendData}},[e._v(e._s(e.status)+"\n        ")]),n("br"),e._v("\n        "+e._s(e.message)+"\n      ")],1),e._v(" "),n("div",[n("br"),n("br"),e._v("\n        Current Node data:"),n("br"),n("br"),e._v("\n        Name  : "+e._s(e.nodeData.name)),n("br"),e._v("\n        Group : "+e._s(e.nodeData.group)),n("br"),n("br")]),e._v(" "),n("label",{staticClass:"square_btn",attrs:{for:"reset"}},[e._v("\n        Reset zoom\n        "),n("input",{staticStyle:{display:"none"},attrs:{type:"button",name:"reset",id:"reset"},on:{click:e.resetted}})])]),e._v(" "),n("el-main",[n("div",{staticClass:"svg-container",style:{width:e.settings.width+"%"}},[n("svg",{attrs:{id:"svg","pointer-events":"all",viewBox:"0 0 960 600",preserveAspectRatio:"xMinYMin meet"}},[n("g",{attrs:{id:"nodes"}},[e._v(e._s(e.nodes))]),e._v(" "),n("g",{attrs:{id:"links"}},[e._v(e._s(e.links))]),e._v(" "),n("g",{attrs:{id:"boxes"}},[e._v(e._s(e.boxes))])])])])],1)],1)},staticRenderFns:[]};var _=n("VU/8")(g,b,!1,function(e){n("CmEp")},null,null).exports,y=n("TQE0"),x=n.n(y);n("18/U");a.default.use(x.a),a.default.component("TabMenu",c),a.default.component("upload",_);var k={name:"try",data:function(){return{settings:{strokeColor:"#29B5FF",width:100,svgWigth:960,svgHeight:600},current:null}},mounted:function(){console.log("start"),this.$intro().start()}},w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("TabMenu"),e._v(" "),n("div",[n("el-container",{staticClass:"bottom"},[n("el-aside",{attrs:{width:"20%"}},[n("br"),n("br"),e._v(" "),n("span",{directives:[{name:"intro",rawName:"v-intro",value:"Upload a file of graph. <br>The current file is shown here.",expression:"'Upload a file of graph. <br>The current file is shown here.'"},{name:"intro-step",rawName:"v-intro-step",value:1,expression:"1"}],staticClass:"choose"},[n("label",{staticClass:"square_btn",attrs:{for:"fileid"}},[e._v("\n            Choose file\n            "),n("form",{staticClass:"fileup",staticStyle:{display:"none"},attrs:{name:"form"}},[n("input",{attrs:{type:"file",name:"file",id:"fileid"}})])]),e._v(" "),n("br"),n("br"),e._v("\n          current file: "+e._s(e.current)+"\n        ")]),n("br"),n("br"),e._v(" "),n("span",{directives:[{name:"intro",rawName:"v-intro",value:"Choose a proper layout.",expression:"'Choose a proper layout.'"},{name:"intro-step",rawName:"v-intro-step",value:2,expression:"2"}],staticClass:"buttons"},[n("el-radio-group",[n("el-radio",{staticClass:"layoutButton",attrs:{label:"ST-GIB",border:"",size:"medium"}}),e._v(" "),n("el-radio",{staticClass:"layoutButton",attrs:{label:"CD-GIB",border:"",size:"medium"}})],1),e._v(" "),n("el-radio-group",[n("el-radio",{staticClass:"layoutButton",attrs:{label:"FD-GIB",border:"",size:"medium"}}),e._v(" "),n("el-radio",{staticClass:"layoutButton",attrs:{label:"TR-GiB",border:"",size:"medium"}})],1)],1),n("br"),n("br"),e._v(" "),n("div",{directives:[{name:"intro",rawName:"v-intro",value:"Push and send me the file.",expression:"'Push and send me the file.'"},{name:"intro-step",rawName:"v-intro-step",value:3,expression:"3"}],staticClass:"sendFile"},[n("el-button",{attrs:{id:"send",type:"success"}},[e._v("Send file\n          ")]),n("br")],1)]),e._v(" "),n("el-main",[n("div",{staticClass:"svg-container",style:{width:e.settings.width+"%"}},[n("svg",{directives:[{name:"intro",rawName:"v-intro",value:"The graph is shown here. <br>You can download the graph by right click.",expression:"'The graph is shown here. <br>You can download the graph by right click.'"},{name:"intro-step",rawName:"v-intro-step",value:4,expression:"4"}],attrs:{id:"svg","pointer-events":"all",viewBox:"0 0 960 600",preserveAspectRatio:"xMinYMin meet"}})])])],1)],1)],1)},staticRenderFns:[]};var C=n("VU/8")(k,w,!1,function(e){n("vLAy")},"data-v-ad5f669c",null).exports;a.default.component("TabMenu",c),a.default.component("upload",_);var A={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("TabMenu"),this._v(" "),t("upload")],1)},staticRenderFns:[]};var B=n("VU/8")({name:"try",data:function(){return{}},mounted:function(){}},A,!1,function(e){n("LRQd")},"data-v-d7a96fca",null).exports,z=n("VU/8")(null,null,!1,null,null,null).exports,S={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"4layouts"}},[a("p",{staticClass:"explain"},[e._v("You can EASILY access 4 GIB layous.")]),e._v(" "),a("ol",{staticClass:"images"},[a("li",[a("img",{attrs:{src:n("RpZF")}})]),e._v(" "),a("li",[a("img",{attrs:{src:n("U10w")}})])]),e._v(" "),a("ol",{staticClass:"logos"},[a("li",[e._v("\n      ST-GIB     Size is easy to see\n    ")]),e._v(" "),a("li",[e._v("\n      CD-GIB     Inter-connection are considered\n    ")])]),e._v(" "),a("ol",{staticClass:"images"},[a("li",[a("img",{attrs:{src:n("so9J")}})]),e._v(" "),a("li",[a("img",{attrs:{src:n("dSGU")}})])]),e._v(" "),a("ol",{staticClass:"logos"},[a("li",[e._v("\n      FD-GIB     Using force-directed layout\n    ")]),e._v(" "),a("li",[e._v("\n      TR-GIB     Optimized the link distance\n    ")])])])}]};var F=n("VU/8")({name:"gib-example",data:function(){return{sample:"aiu"}}},S,!1,function(e){n("iPeo")},"data-v-87c422ea",null).exports;a.default.component("TabMenu",c),a.default.component("gibExample",F);var T={name:"home",data:function(){return{title:"GIB layout"}},mounted:function(){console.log(this.title)}},I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("TabMenu"),this._v(" "),t("gibExample")],1)},staticRenderFns:[]};var R=n("VU/8")(T,I,!1,function(e){n("sAng")},"data-v-0fa84390",null).exports;a.default.use(i.a);var N=new i.a({routes:[{path:"/",name:"home",component:R},{path:"/tutorial",name:"tutorial",component:C},{path:"/try",name:"real",component:B},{path:"/",name:"contact",component:z}]}),L=n("zL8q");n("tvR6");a.default.use(L.Row),a.default.use(L.Col),a.default.use(L.Alert),a.default.use(L.Select),a.default.use(L.Input),a.default.use(L.Radio),a.default.use(L.RadioButton),a.default.use(L.RadioGroup),a.default.use(L.Option),a.default.use(L.Dropdown),a.default.use(L.DropdownMenu),a.default.use(L.DropdownItem),a.default.use(L.Button),a.default.use(L.Form),a.default.use(L.FormItem),a.default.use(L.Slider),a.default.use(L.Container),a.default.use(L.Aside),a.default.use(L.Header),a.default.use(L.Main),a.default.use(L.Footer),a.default.config.productionTip=!1,new a.default({el:"#app",router:N,components:{App:r},template:"<App/>"})},RpZF:function(e,t,n){e.exports=n.p+"static/img/stgib.28d1eef.png"},U10w:function(e,t,n){e.exports=n.p+"static/img/cdgib.a132db7.png"},cmcn:function(e,t){},dSGU:function(e,t,n){e.exports=n.p+"static/img/trgib.c0430e7.png"},"h+gt":function(e,t){},iPeo:function(e,t){},sAng:function(e,t){},so9J:function(e,t,n){e.exports=n.p+"static/img/fdgib.9a50945.png"},tvR6:function(e,t){},vLAy:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.30dc8a65c0c33108234f.js.map